import{d as L,r as f,o as r,c as a,a as t,b as _,F as p,e as C,f as U,w as P,g as w,t as l,h as B,i as R,j as y,p as A,k as V,l as g,n as b,P as k,m as K,v as M,q as N,C as q,s as F,u as H,x as T,y as z,z as j,A as W}from"./vendor.7f925795.js";const G=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function d(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(n){if(n.ep)return;n.ep=!0;const o=d(n);fetch(n.href,o)}};G();const J=t("nav",{class:"bg-white py-2 md:py-4 py-8 bg-slate-100"},[t("div",{class:"px-4 mx-auto flex-row md:items-center bg-slate-100"},[t("h1",null,"Hack N Hex")])],-1),Q={class:"mx-8 flex md:items-center mt-5"};var X=L({setup(e){return(s,d)=>{const c=f("router-view");return r(),a(p,null,[J,t("div",Q,[_(c)])],64)}}});var m=(e,s)=>{const d=e.__vccOpts||e;for(const[c,n]of s)d[c]=n;return d};const Y={created(){this.network=this.$route.params.network,this.$watch(()=>this.$route.params,(e,s)=>{this.network=e.network,this.setupConnection()}),this.setupConnection()},data(){return{network:""}},methods:{setupConnection(){this.$store.commit("connect",this.network,"confirmed")}}};function Z(e,s,d,c,n,o){const i=f("router-view");return r(),C(i)}var x=m(Y,[["render",Z]]),ee="/solana-hack-n-hex/assets/solana.767bd52e.svg";const te=L({props:{address:{type:String,required:!0},linked:{type:Boolean,required:!1,default:!0},solanaExplorer:{type:Boolean,required:!1,default:!0}},data(){return{copied:U(!1),solanaImg:ee}},computed:{solanaExUrl(){return"https://explorer.solana.com/address/"+this.address+"?cluster="+this.$route.params.network}},methods:{async copy(e){navigator.clipboard.writeText(this.address),this.copied=!0,setTimeout(()=>this.copied=!1,1e3)}}}),se={key:0},ne={key:0},oe={key:1},re={key:0},ae=["href"],ie=["src"],de={key:1},ce={key:0},le={key:1},ue={key:2},he=["href"],fe=["src"];function pe(e,s,d,c,n,o){const i=f("router-link");return e.linked?(r(),a("span",se,[_(i,{ref:"pubKeyLink",to:{name:"account",params:{address:e.address}}},{default:P(()=>[e.copied?(r(),a("span",ne,"Copied!")):(r(),a("span",oe,l(e.address),1))]),_:1},8,["to"]),t("span",{onClick:s[0]||(s[0]=(...h)=>e.copy&&e.copy(...h)),class:"copyIcon"},"\u{1F4CB}"),e.solanaExplorer?(r(),a("span",re,[t("a",{href:e.solanaExUrl,target:"_blank",title:"Open in Solana Explorer"},[t("img",{style:{height:"0.9em","padding-bottom":"0.1em",display:"inline"},src:e.solanaImg},null,8,ie)],8,ae)])):w("",!0)])):(r(),a("span",de,[e.copied?(r(),a("span",ce,"Copied!")):(r(),a("span",le,l(e.address),1)),t("span",{onClick:s[1]||(s[1]=(...h)=>e.copy&&e.copy(...h)),class:"copyIcon"},"\u{1F4CB}"),e.solanaExplorer?(r(),a("span",ue,[t("a",{href:e.solanaExUrl,target:"_blank",title:"Open in Solana Explorer"},[t("img",{style:{height:"0.9em","padding-bottom":"0.1em",display:"inline"},src:e.solanaImg},null,8,fe)],8,he)])):w("",!0)]))}var S=m(te,[["render",pe],["__scopeId","data-v-2344f5b2"]]);let v=512;DataView.prototype.getUint64=function(e,s){const d=this.getUint32(e,s),c=this.getUint32(e+4,s);return s?d+2**32*c:2**32*d+c};function D(e,s){return e*16+s}function _e(e,s){return e>=s*16&&e<(s+1)*16}var we={components:{PublicAddress:S},props:{dataView:{type:DataView,required:!0}},setup(){const e=U(0),s=B({start:0,end:v/16});return{row:s,offset:e,updateOffset:n=>{e.value=n;const o=Math.floor(n/16);o>=s.end?s.start=s.start+1:o<s.start&&(s.start=s.start-1),(o<s.start||o>=s.end)&&(s.start=o),s.end=s.start+v/16},updateStartAndEnd:(n,o)=>{s.start.value=n,s.end.value=o}}},created(){if(this.dataView.byteLength===0)throw new TypeError("DataView is empty");document.addEventListener("keydown",this.handleKey)},destroyed:function(){window.removeEventListener("keydown",this.handleKey)},methods:{getRows(e){const s=[];for(let d=this.row.start;d<this.rowsLen;d++){const c=[];for(let n=0;n<this.rowLength;n++){const o=d*this.rowLength+n,i=o<this.dataView.byteLength?this.dataView.getUint8(o):"  ";c.push(e(i))}s.push(c)}return s},clickByte(e,s){this.updateOffset(D(e,s))},handleKey(e){switch(e.key){case"ArrowUp":{this.offset-16>=0&&(this.updateOffset(this.offset-16),e.preventDefault());break}case"ArrowDown":{this.offset+16<this.dataView.byteLength&&(this.updateOffset(this.offset+16),e.preventDefault());break}case"ArrowLeft":{this.offset-1>=0&&(this.updateOffset(this.offset-1),e.preventDefault());break}case"ArrowRight":{this.offset+1<this.dataView.byteLength&&(this.updateOffset(this.offset+1),e.preventDefault());break}case"PageDown":{if(this.dataView.byteLength===this.offset+1)return;this.offset+Math.floor(v/2)<this.dataView.byteLength?(this.updateOffset(this.offset+Math.floor(v/2)),e.preventDefault()):(this.updateOffset(this.dataView.byteLength-1),e.preventDefault());break}case"PageUp":{if(this.offset===0)return;this.offset-Math.floor(v/2)>0?(this.updateOffset(this.offset-Math.floor(v/2)),e.preventDefault()):(this.updateOffset(0),e.preventDefault());break}}},getOffset:D,activeLine:_e},data(){return{rowLength:16}},computed:{relativeOffset(){return this.offset-this.row.start*16},currentLine(){return Math.floor(this.relativeOffset/16)},size(){return this.dataView.byteLength},maxStartRow(){return this.maxRows-(this.rows-1)},maxRows(){return Math.ceil(this.dataView.byteLength/this.rowLength)},rowsLen(){return this.row.end<=this.maxRows?this.row.end:this.maxRows},offsets(){const e=[];for(let s=this.row.start;s<this.rowsLen;s++)e.push((s*this.rowLength).toString(16).padStart(8,"0"));return e},hex(){return this.getRows(e=>e.toString(16).padStart(2,"0").toUpperCase())},ascii(){return this.getRows(e=>e==="  "?" ":e>=32&&e<=127?String.fromCharCode(e):".")},decodePubKey(){return this.offset+32<=this.dataView.byteLength?R(new Uint8Array(this.dataView.buffer.slice(this.offset,this.offset+32))):""},decodeUint8(){return this.dataView.getUint8(this.offset,!0)},decodeUint16(){return this.offset+2<=this.dataView.byteLength?this.dataView.getUint16(this.offset,!0):""},decodeUint32(){return this.offset+4<=this.dataView.byteLength?this.dataView.getUint32(this.offset,!0):""},decodeUint64(){return this.offset+8<=this.dataView.byteLength?this.dataView.getUint64(this.offset,!0):""}}};const $=e=>(A("data-v-1691240e"),e=e(),V(),e),me={class:"hexContainer"},ve={class:"offsets"},ye={class:"hexs"},ge=["onClick"],be={key:0},$e={class:"asciis"},ke=["onClick"],Le={class:"info ml-3"},Ae=$(()=>t("td",null,[t("span",null,"Offset:")],-1)),Ve=$(()=>t("td",null,[t("span",null,"PubKey:")],-1)),Oe={key:0},Ce=$(()=>t("td",null,[t("span",null,"Uint8:")],-1)),Ue=g(),Se=$(()=>t("td",null,[t("span",null,"Uint32:")],-1)),De=g(),Ee=$(()=>t("td",null,[t("span",null,"Uint64:")],-1)),Ie=g();function Pe(e,s){const d=f("public-address");return r(),a("div",me,[t("div",ve,[(r(!0),a(p,null,y(e.offsets,(c,n)=>(r(),a("div",{key:c,class:b(["line",{activeLine:e.currentLine==n}])},l(c),3))),128))]),t("div",ye,[(r(!0),a(p,null,y(e.hex,(c,n)=>(r(),a("div",{class:b(["line",{activeLine:e.currentLine==n}]),key:"row"+n},[(r(!0),a(p,null,y(c,(o,i)=>(r(),a("div",{key:"row"+n+"col"+i},[t("span",{onClick:h=>e.clickByte(n,i),class:b({active:e.relativeOffset===e.getOffset(n,i)})},l(o),11,ge),i<this.rowLength-1?(r(),a("span",be,"\xA0")):w("",!0)]))),128))],2))),128))]),t("div",$e,[(r(!0),a(p,null,y(e.ascii,(c,n)=>(r(),a("div",{class:b(["line",{activeLine:e.currentLine==n}]),key:"row"+n},[(r(!0),a(p,null,y(c,(o,i)=>(r(),a("div",{key:"row"+n+"col"+i},[t("span",{onClick:h=>e.clickByte(n,i),class:b({active:e.relativeOffset===e.getOffset(n,i)})},l(o),11,ke)]))),128))],2))),128))]),t("div",Le,[t("table",null,[t("tr",null,[Ae,t("td",null,[t("span",null,l(e.offset),1)])]),t("tr",null,[Ve,t("td",null,[e.decodePubKey?(r(),a("span",Oe,[_(d,{address:e.decodePubKey},null,8,["address"])])):w("",!0)])]),t("tr",null,[Ce,Ue,t("td",null,[t("span",null,l(e.decodeUint8),1)])]),t("tr",null,[Se,De,t("td",null,[t("span",null,l(e.decodeUint32),1)])]),t("tr",null,[Ee,Ie,t("td",null,[t("span",null,l(e.decodeUint64),1)])])])])])}var Be=m(we,[["render",Pe],["__scopeId","data-v-1691240e"]]);const Re=L({components:{HexViewer:Be,PublicAddress:S},props:{addr:{type:String,required:!0},network:{type:String,required:!0}},data(){return{loading:!0,account:null,error:null}},created(){console.log("Fetching account:",this.addr),this.$watch("addr",e=>{this.fetchAccount(e)}),this.$watch("network",()=>{this.fetchAccount(this.addr)}),this.fetchAccount(this.addr)},computed:{dataView(){return!this.account||!this.account.data.buffer.byteLength?null:new DataView(this.account.data.buffer)},dataLen(){return!this.account||!this.account.data.buffer.byteLength?0:this.account.data.buffer.byteLength},isOnCurve(){return k.isOnCurve(new k(this.addr).toBytes())}},methods:{async fetchAccount(e){this.loading=!0,this.error=null;try{const s=new k(e),d=this.$store.state.connection;if(!d)throw new TypeError("Unable to make connection");this.account=await d.getAccountInfo(s),this.account||(this.error="Account not found"),this.loading=!1}catch(s){s instanceof Error&&(this.error=s.message),this.loading=!1;return}}}}),u=e=>(A("data-v-f047646e"),e=e(),V(),e),Ke={key:0,class:"text-center"},Me={key:1,class:"mb-10"},Ne=u(()=>t("td",null," Account ",-1)),qe=u(()=>t("td",null," Account Owner ",-1)),Fe=u(()=>t("td",null," Executable ",-1)),He=u(()=>t("td",null," Lamports ",-1)),Te=u(()=>t("td",null," Rent Epoch ",-1)),ze=u(()=>t("td",null,[g(" Is On Curve ("),t("a",{href:"https://docs.solana.com/developing/programming-model/calling-between-programs#program-derived-addresses"},"PDA"),g(") ")],-1)),je={key:0},We={class:"mt-4"},Ge=u(()=>t("hr",{class:"mt-1 mb-2"},null,-1)),Je={key:1},Qe=u(()=>t("h4",null,"No Data",-1)),Xe=[Qe];function Ye(e,s,d,c,n,o){const i=f("public-address"),h=f("hex-viewer");return r(),a(p,null,[e.error?(r(),a("div",Ke,[t("h3",null,l(e.error),1)])):w("",!0),!e.loading&&e.account&&!e.error?(r(),a("div",Me,[t("table",null,[t("tr",null,[Ne,t("td",null,[_(i,{address:e.addr,linked:!1},null,8,["address"])])]),t("tr",null,[qe,t("td",null,[_(i,{address:e.account.owner.toBase58()},null,8,["address"])])]),t("tr",null,[Fe,t("td",null,l(e.account.executable?"true":"false"),1)]),t("tr",null,[He,t("td",null,l(e.account.lamports)+" ("+l(e.account.lamports/10**9)+" SOL) ",1)]),t("tr",null,[Te,t("td",null,l(e.account.rentEpoch),1)]),t("tr",null,[ze,t("td",null,l(e.isOnCurve),1)])]),!e.loading&&e.dataView?(r(),a("div",je,[t("h4",We,"Data ("+l(e.dataLen)+" bytes)",1),Ge,_(h,{"data-view":e.dataView},null,8,["data-view"])])):(r(),a("div",Je,Xe))])):w("",!0)],64)}var E=m(Re,[["render",Ye],["__scopeId","data-v-f047646e"]]);const Ze={components:{Account:E},data(){return{addr:"",network:""}},created(){this.addr=this.$route.params.address,this.$watch(()=>this.$route.params,(e,s)=>{this.addr=e.address,this.network=e.network})}};function xe(e,s,d,c,n,o){const i=f("account",!0);return r(),C(i,{addr:n.addr,network:n.network},null,8,["addr","network"])}var et=m(Ze,[["render",xe]]);const tt={components:{Account:E},data(){return{address:""}},methods:{lookup(){try{new k(this.address),this.$router.push({name:"account",params:{address:this.address}})}catch(e){console.log(e)}}}},I=e=>(A("data-v-893c1a88"),e=e(),V(),e),st=I(()=>t("label",{for:"Address",class:""},"Address",-1)),nt=I(()=>t("button",{type:"submit",class:"mt-3"},"Lookup",-1));function ot(e,s,d,c,n,o){return r(),a("form",{onSubmit:s[1]||(s[1]=N((...i)=>o.lookup&&o.lookup(...i),["prevent"])),class:"w-96"},[st,K(t("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>n.address=i),placeholder:"base58 Address",type:"text",class:"w-full px-3 py-3 text-lg border border-gray-300 outline-none text-sm"},null,512),[[M,n.address]]),nt],32)}var rt=m(tt,[["render",ot],["__scopeId","data-v-893c1a88"]]);var at={state(){return{connection:null}},mutations:{connect(e,s,d="confirmed"){e.connection=new q(F(s),d),window.global.solanaDebug={web3:H,connection:e.connection}}}};const it=[{path:"/",redirect:"/devnet"},{path:"/:network",name:"network",component:x,children:[{path:"",component:rt},{path:"account/:address",component:et,name:"account"}]}],dt=T({history:z(),routes:it}),ct=j(at),O=W(X);O.use(dt);O.use(ct);O.mount("#app");
